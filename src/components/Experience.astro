---
//@ts-nocheck
const experienceData = await fetch(
  "https://frontend-design-theme.netlify.app/api/experience"
).then((response) => response.json());
// console.log(experienceData);
import MicroTitles from "./Micro_titles.astro";
const percent = 0;
---

<section class="experience-wrapper">
    <MicroTitles class="secondary-micro-title">Experience</MicroTitles>{
 experienceData.stats.map((item) => (
    <div class="experience">
        <h2>{item.heading}</h2>
        <p>{item.subheading}</p>
    </div>
    <div class="stats">
     
        <div class="stat" define:vars={{percent:item.value}}></div> 
        {/* <div class="stat" style='--percent:${experience.value}' ></div>  */}
     </div>
    <span>{item.label}</span>
    ))
}
</section>




<style>

.experience-wrapper{
    background-color: #FBC336;
}




    .stats {
  display: flex;
  gap: 1rem;
  width: min(400px, 100% - 1rem);
  background-color: #FBC336;
}

.stat {
  --p: calc(var(--percent) * 1%);
  --border-width: 5px;
  --border-color: #fff;

  aspect-ratio: 1;
  width: 150px;
  border-radius: calc(Infinity * 1px);
  border: var(--border-width) solid #f6363600;
  background: radial-gradient(
        circle at 50% calc(var(--border-width) / 2),
        var(--border-color) calc(var(--border-width) / 2),
        transparent 0
      )
      border-box,
    linear-gradient(#FBC336, #FBC336) padding-box,
    conic-gradient(var(--border-color) var(--p), rgba(190, 190, 190, 0.442) 0) border-box;

  display: grid;
  counter-reset: count var(--percent);

  &::before,
  &::after {
    grid-area: 1 / 1;
  }

  &::after {
    content: counter(count) "%";
    place-self: center;
  }

  &::before {
    content: "";
    aspect-ratio: 1;
    border-radius: calc(Infinity * 1px);
    width: calc(var(--border-width) * 3);
    background: #000;
    border: 2px solid #fff;
    offset-path: border-box;
    offset-distance: var(--p);
    /*Tager udagngspunkt i den yderste del af      borderen. det kan løses ved nedstående beregning*/
    offset-anchor: 50% calc(50% - var(--border-width) / 2);

    /*ændringer der måske ikke skal gemmes.*/

    transition: var(--p) 3s var(--easing);
    @starting-style {
      translate: 0, 25%;
    }
  }
}


</style>